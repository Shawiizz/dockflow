# Deployment

import { Cards } from 'nextra/components'

Dockflow deploys your application using Docker Swarm. This section covers the deployment process, health checks, and rollback behavior.

## How Deployment Works

When you trigger a deployment, Dockflow performs the following steps:

1. **Build** - Docker images are built from your Dockerfiles
2. **Transfer** - Images are sent to your server via SSH
3. **Deploy** - The application is deployed as a Swarm stack
4. **Verify** - Health checks confirm the deployment succeeded

If health checks fail, Dockflow automatically rolls back to the previous working version.

## Deployment Topics

<Cards>
  <Cards.Card
    title="Docker Swarm"
    href="/deployment/swarm"
  />
</Cards>

## Triggering a Deployment

Deployments can be triggered via CI/CD or manually with the CLI:

**Manual deployment:**

```bash
dockflow deploy production 1.0.0
```

**Tag-based deployment (CI/CD):**
Push a git tag to deploy that version.

```bash
git tag 1.0.0
git push origin 1.0.0
```

**Branch-based deployment (CI/CD):**
Push to a branch to deploy the latest commit from that branch.

```bash
git push origin main
```

The environment name (e.g., `production`, `staging`) corresponds to the server tags defined in your `servers.yml`.
