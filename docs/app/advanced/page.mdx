# Advanced Usage

import { FileTree } from 'nextra/components'

## Custom Templates 

Add custom configs in `.dockflow/templates/`:

<FileTree>
  <FileTree.Folder name=".dockflow" defaultOpen>
    <FileTree.Folder name="templates" defaultOpen>
      <FileTree.Folder name="nginx">
        <FileTree.File name="my-app.conf.j2" />
      </FileTree.Folder>
      <FileTree.Folder name="services">
        <FileTree.File name="my-service.service.j2" />
        <FileTree.File name="my-service.mount.j2" />
      </FileTree.Folder>
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

All templates support **Jinja2 syntax** and have access to environment variables.

### Custom Nginx Configuration

**Example:** Create `.dockflow/templates/nginx/my-app.conf.j2`

```nginx
server {
    listen 80;
    server_name {{ domain }};

    location / {
        proxy_pass http://localhost:{{ app_port }};
        proxy_set_header Host $host;
    }
}
```

### Custom Systemd Service

**Example:** Create `.dockflow/templates/services/my-worker.service.j2`

```ini
[Unit]
Description={{ service_description }}
After=docker.service

[Service]
Type=simple
ExecStart={{ script_path }}
Environment="ENV={{ env }}"
Restart=always

[Install]
WantedBy=multi-user.target
```

For custom scripts that run during deployment, see [Hooks](/configuration/hooks).
